# 🗺️ 新手村地图设计详细方案

## 📐 地图总览

### 基础参数
```
地图名称: Starter Village (新手村)
地图尺寸: 40x40 格子 (2560x1280 像素)
可视区域: 20x15 格子 (可滚动)
缩放范围: 50% - 200%
格子单位: 64x32 像素 (等距投影)
```

---

## 🎯 地图布局设计

### 整体结构 (ASCII 地图)
```
    0   5   10  15  20  25  30  35  40
  ┌─────────────────────────────────────┐
0 │ 🌲🌲🌲🌲🌲🌲🌲🌲🌲🌲🌲🌲🌲🌲🌲🌲🌲🌲🌲🌲 │ 北部森林边缘
  │ 🌲🌲🌲🌲🌲🌲🌲🌲🌲🌲🌲🌲🌲🌲🌲🌲🌲🌲🌲🌲 │
5 │ 🌲🌲🌾🌾🌾🌾🌾🌾🌾🌾🌾🌾🌾🌾🌾🌾🌾🌲🌲🌲 │
  │ 🌲🌾🌾🌾🌾🏋️训练场🌾🌾🌾🌾🌾🌾🌾🌾🌲🌲 │ 训练区
  │ 🌲🌾🌾🌾🌾🌾🌾🌾🌾🌾🌾🌾🌾🌾🌾🌾🌾🌲🌲 │
10│ 🌲🌾🏠🏠🌾🌾🌾🌾🌾🌾🌾🌾🌾🏪🏪🌾🌾🌲🌲 │
  │ 🌲🌾🏠🏠🌾🌾🌾🌾🌾🌾🌾🌾🌾🏪🏪🌾🌾🌲🌲 │ 居民区 + 商店区
  │ 🌲🌾🌾🌾🌾🌾🌾🌾🌾🌾🌾🌾🌾🌾🌾🌾🌾🌲🌲 │
15│ 🌲🌾🌾🌾🌾🌾🏛️村长🌾⛲🌾🌾🌾🌾🌾🌾🌾🌲🌲 │
  │ 🌲🌾🌾🌾🌾🌾办公室🌾广场🌾🌾🌾🌾🌾🌾🌾🌲🌲 │ 村庄中心
  │ 🌲🌾🌾🌾🌾🌾🌾🌾🌾🌾🌾🌾🌾🌾🌾🌾🌾🌲🌲 │
20│ 🌲🌾🌾🌾🌾🌾🌾🌾🌾🌾🌾🌾🌾🌾🌾🌾🌾🌲🌲 │
  │ 🌲🌾🌾🌾🌾🌾🌾🌾🌾🌾🌾🌾🌾🌾🌾🌾🌾🌲🌲 │
  │ 🌲🌾🌾🌾🌾🌾🌾🌾🌾🌾🌾🌾🌾🌾🌾🌾🌾🌲🌲 │ 公园休闲区
25│ 🌲🌾🌾🌾🌾🌾🌾🌾🌾🌾🌾🌾🌾🌾🌾🌾🌾🌲🌲 │
  │ 🌲🌾🌾🌾🌾🌾🌾🌾🌾🌾🌾🌾🌾🌾🌾🌾🌾🌲🌲 │
  │ 🌲🌾🌾🌾🌾🌾🌾🌾🌾🌾🌾🌾🌾🌾🌾🌾🌾🌲🌲 │
30│ 🌲🌾🌾🌾🌾🌾🌾🌾🌾🌾🌾🌾🌾🌾🌾🌾🌾🌲🌲 │
  │ 🌲🌾🌾🌾🌾🌾🌾🌾🌾🌾🌾🌾🌾🌾🌾🌾🌾🌲🌲 │
  │ 🌲🌾🌾🌾🌾🌾🌾🌾🌾🌾🌾🌾🌾🌾🌾🌾🌾🌲🌲 │ 南部入口
35│ 🌲🌾🌾🌾🌾🌾🌾🌾🌾🌾🌾🌾🌾🌾🌾🌾🌾🌲🌲 │
  │ 🌲🌲🌾🌾🌾🌾🌾🌾🛤️道路🌾🌾🌾🌾🌾🌲🌲🌲 │
  │ 🌲🌲🌲🌲🌲🌲🌲🌲🚪入口🌲🌲🌲🌲🌲🌲🌲🌲 │
40└─────────────────────────────────────┘
```

---

## 🏗️ 详细区域设计

### 1. 村庄中心 (Village Center)
**位置**: (15, 15) - (25, 20)
**核心建筑**: 村长办公室

```
详细布局:
┌─────────────────────────┐
│  🌳  🌳        🌳  🌳  │
│                         │
│  🪑  🏛️村长办公室🏛️  🪑  │
│      (4x4格子)          │
│  💡  🚪入口  🚪  💡    │
│                         │
│  🌸  ⛲喷泉⛲  🌸       │
│      (2x2格子)          │
│                         │
│  🪧任务板  🪑  🌳      │
│                         │
│  🔮传送门  💡  🌸      │
└─────────────────────────┘

关键元素:
- 村长办公室 (主要任务发布点)
- 喷泉广场 (社交聚集点)
- 任务公告板 (查看可用任务)
- 传送门 (快速旅行点)
- 装饰: 路灯、长椅、花坛、树木
```

### 2. 商店区 (Shopping District)
**位置**: (25, 10) - (35, 15)
**核心建筑**: 面包店、道具商店

```
详细布局:
┌─────────────────────────┐
│  🌳                🌳   │
│                         │
│  🍞面包店🍞  🛒道具店🛒 │
│  (3x3格子)  (3x3格子)   │
│  🚪入口🚪  🚪入口🚪    │
│                         │
│  🪑🪑  🛤️  💡  🌸     │
│                         │
│  🌸  🛤️  🪑  🌳       │
└─────────────────────────┘

关键元素:
- 小猪培根的面包店 (任务004地点)
- 道具商店 (购买游戏道具)
- 户外座位区
- 石板路连接
- 装饰: 路灯、花坛、标志牌
```

### 3. 居民区 (Residential Area)
**位置**: (8, 10) - (18, 15)
**核心建筑**: 小柴的家、露露的家

```
详细布局:
┌─────────────────────────┐
│  🌳  🌳        🌳  🌳  │
│                         │
│  🏠小柴的家🏠  🏠露露的家🏠│
│  (3x3格子)    (3x3格子)  │
│  🚪🐕🚪      🚪🐰🚪   │
│                         │
│  🌸  🛤️  🌸  🛤️  🌸  │
│                         │
│  🪑  🌳  💡  🌳  🪑   │
│                         │
│  🏠通用房屋🏠  🏠通用房屋🏠│
└─────────────────────────┘

关键元素:
- 柴犬小柴的家 (任务002、003地点)
- 兔子露露的家 (任务005地点)
- 2-3个通用居民房屋
- 小花园和栅栏
- 装饰: 邮箱、路灯、花坛
```

### 4. 训练区 (Training Area)
**位置**: (12, 5) - (22, 10)
**核心建筑**: 训练场

```
详细布局:
┌─────────────────────────┐
│  🌳  🌳        🌳  🌳  │
│                         │
│      🏋️训练场🏋️        │
│      (4x3格子)          │
│      🚪入口🚪          │
│                         │
│  🎯  🎯  🥋  🥋  🎯   │
│  (练习靶)  (训练假人)   │
│                         │
│  🪑  💡  🌸  🪧      │
└─────────────────────────┘

关键元素:
- 训练场建筑 (发音和对话练习)
- 户外训练设施
- 练习靶和训练假人
- 新手教程触发点
- 装饰: 旗帜、标志牌
```

### 5. 公园休闲区 (Park & Recreation)
**位置**: (10, 20) - (30, 30)
**开放空间**: 社交和休闲

```
详细布局:
┌─────────────────────────┐
│  🌳  🌳  🌳  🌳  🌳   │
│                         │
│  🌸  🪑  🪑  🌸  🌳   │
│                         │
│  💡  🛤️  🛤️  💡  🌸  │
│                         │
│  🌸  🛤️  ⛲  🛤️  🌸  │
│      (小喷泉)           │
│                         │
│  🌳  🪑  🪑  🌳  💡   │
│                         │
│  🌸  🌸  🌸  🌸  🌳   │
└─────────────────────────┘

关键元素:
- 开放草地
- 小型喷泉
- 多个长椅 (玩家休息点)
- 花坛和树木
- 社交聊天区域
```

### 6. 南部入口 (South Entrance)
**位置**: (15, 35) - (25, 40)
**功能**: 新玩家进入点

```
详细布局:
┌─────────────────────────┐
│  🌳  🌳        🌳  🌳  │
│                         │
│  🌸  🛤️  🛤️  🛤️  🌸  │
│                         │
│  💡  🛤️  🛤️  🛤️  💡  │
│                         │
│  🪧  🛤️  🛤️  🛤️  🪧  │
│  (欢迎标志)             │
│                         │
│  🌸  🚪村庄入口🚪  🌸   │
│      (传送点)           │
└─────────────────────────┘

关键元素:
- 村庄入口门
- 欢迎标志牌
- 宽阔的道路
- 新手引导NPC位置
- 装饰: 花坛、路灯
```

---

## 🛤️ 道路系统

### 主干道 (Main Roads)
```
宽度: 2格子
材质: 石板路
连接: 所有主要建筑
颜色: 浅灰色
```

### 小路 (Side Paths)
```
宽度: 1格子
材质: 泥土路/石板路
连接: 居民房屋、装饰区域
颜色: 棕色/浅灰色
```

### 道路网络图
```
        训练场
           ↑
           │
居民区 ←─ 村庄中心 ─→ 商店区
           │
           ↓
        公园区
           │
           ↓
        南部入口
```

---

## 🎯 互动点位置

### 任务相关互动点
```
1. 村长办公室门口 (15, 16) - 任务001触发点
2. 小柴家门口 (10, 12) - 任务002触发点
3. 村庄道路 (18, 14) - 任务003触发点
4. 面包店门口 (28, 12) - 任务004触发点
5. 露露家门口 (16, 12) - 任务005触发点
```

### 功能性互动点
```
- 任务公告板 (17, 18) - 查看所有任务
- 传送门 (17, 20) - 快速旅行
- 道具商店 (32, 12) - 购买道具
- 训练场入口 (17, 7) - 进入训练模式
- 喷泉 (20, 17) - 恢复体力/社交点
```

---

## 🌳 装饰元素分布

### 树木分布 (约60-80棵)
```
- 森林边缘: 密集分布 (大树)
- 建筑周围: 稀疏分布 (中树)
- 道路两旁: 规律分布 (中树)
- 公园区域: 随机分布 (大中小混合)
```

### 花坛分布 (约40-60个)
```
- 建筑入口: 对称摆放
- 道路交叉口: 装饰性摆放
- 公园区域: 集群摆放
- 喷泉周围: 环形摆放
```

### 路灯分布 (约30-40个)
```
- 主干道: 每4格一个
- 建筑入口: 两侧各一个
- 广场周围: 均匀分布
- 公园区域: 稀疏分布
```

### 长椅分布 (约20-30个)
```
- 公园区域: 成对摆放
- 商店外: 休息区
- 喷泉周围: 观景位置
- 道路旁: 随机摆放
```

---

## 📊 资产数量统计

### 建筑类 (10个)
- 村长办公室 x1
- 面包店 x1
- 道具商店 x1
- 小柴的家 x1
- 露露的家 x1
- 训练场 x1
- 通用房屋 x4

### 自然元素 (100-150个)
- 大树 x30-40
- 中树 x30-40
- 小树/灌木 x20-30
- 花坛 x40-60

### 装饰道具 (80-120个)
- 路灯 x30-40
- 长椅 x20-30
- 花盆 x15-20
- 标志牌 x10-15
- 栅栏 x20-30

### 地面纹理 (约1600格子)
- 草地 x1200
- 石板路 x300
- 泥土路 x100

### 特殊元素 (10个)
- 喷泉 x2
- 传送门 x1
- 任务公告板 x1
- 练习靶 x3
- 训练假人 x3

---

## 🎮 Phaser 3 实现建议

### 图层结构
```javascript
// 从下到上的渲染顺序
layers = [
  'ground',           // 地面层 (草地、道路)
  'shadows',          // 阴影层
  'decorations_low',  // 低层装饰 (花坛、地面道具)
  'buildings',        // 建筑层
  'decorations_mid',  // 中层装饰 (栅栏、标志牌)
  'characters',       // 角色层 (NPC、玩家)
  'decorations_high', // 高层装饰 (树木、路灯)
  'effects',          // 特效层 (光晕、粒子)
  'ui'                // UI层 (任务标记、名称)
]
```

### 地图数据结构
```javascript
const starterVillageMap = {
  name: 'Starter Village',
  size: { width: 40, height: 40 },
  tileSize: { width: 64, height: 32 },

  buildings: [
    {
      id: 'village_chief_office',
      type: 'building',
      position: { x: 15, y: 15 },
      size: { width: 4, height: 4 },
      sprite: 'building_chief_office',
      interactive: true,
      npc: 'village_chief_meow'
    },
    // ... 更多建筑
  ],

  decorations: [
    {
      type: 'tree_large',
      position: { x: 10, y: 10 },
      sprite: 'tree_large_01'
    },
    // ... 更多装饰
  ],

  interactivePoints: [
    {
      id: 'quest_001_trigger',
      position: { x: 15, y: 16 },
      questId: 'starter_village_001',
      radius: 2
    },
    // ... 更多互动点
  ]
}
```

---

## 🎯 下一步行动

1. **使用 AI 生成资产** - 按照 AI_PROMPTS_LIBRARY.md 中的提示词
2. **创建地图编辑器** - 或使用 Tiled Map Editor
3. **导入 Phaser 3** - 实现地图渲染
4. **添加互动逻辑** - 任务触发、NPC对话
5. **优化性能** - 视野裁剪、资产复用

需要我帮你设计其他关卡的地图吗？或者开始准备 Phaser 3 的实现代码？
